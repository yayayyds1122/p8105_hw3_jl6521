p8105_hw3_jl6521
================
Jiayi
2024-10-09

## Problem 1

``` r
data("ny_noaa")
size = nrow(ny_noaa)
column = ncol(ny_noaa)
cleaned_noaa = ny_noaa %>% 
  separate(date, into = c("year","month","day"), sep="-") 
```

Description of the dataset: the dataset consists of records from 2595176
weather stations around the world with 7 daily variables. They are ids,
maximum and minimum temperature, total daily precipitation, snowfall,
and snow depth.

\*and indicating the extent to which missing data is an issue. \##
Problem 2

``` r
acc_data = read_csv("./data/nhanes_accel.csv",
                    na = c("NA", ".", "")
                    ) %>% 
  janitor::clean_names()
```

    ## Rows: 250 Columns: 1441
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (1441): SEQN, min1, min2, min3, min4, min5, min6, min7, min8, min9, min1...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
demo_data = read_csv("./data/nhanes_covar.csv",
                     skip = 4,
                     na = c("NA", ".", "")
                     ) %>% 
  janitor::clean_names()
```

    ## Rows: 250 Columns: 5
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (5): SEQN, sex, age, BMI, education
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
merged_mims = inner_join(demo_data,acc_data, by = "seqn") %>% 
  filter(age >= 21) %>%
  drop_na(sex, age, bmi, education) %>%
  mutate(
  sex = case_match(
    sex,
    1 ~ "male",
    2 ~ "female"
  )) %>% 
  mutate(
    education = case_match(
      education,
      1 ~ "Less then high school",
      2 ~ "High school equivalent",
      3 ~ "More than high school"
    )
  )
```

``` r
education_table = merged_mims %>% 
  group_by(education,sex) %>% 
  summarize(
    number = n(),
    .groups = 'drop'
  ) %>% 
  pivot_wider(
    names_from = sex,
    values_from = number
  )  
education_table %>% 
  kable(
    col.names = c("Education level", "Female", "Male"),
    caption = "Number of Men and Women by Education Category",
    align = "c"
  )
```

|    Education level     | Female | Male |
|:----------------------:|:------:|:----:|
| High school equivalent |   23   |  35  |
| Less then high school  |   28   |  27  |
| More than high school  |   59   |  56  |

Number of Men and Women by Education Category

``` r
education_visualization = ggplot(merged_mims,aes(x= education, y = age, color = sex)) + 
  geom_boxplot(alpha = 0.3) + 
  labs(
    title = "Age Distribution by Education and Sex",
    x = "Education Level",
    y = "Age"
  ) + 
  theme_minimal()

print(education_visualization)
```

![](p8105_hw3_jl6521_files/figure-gfm/table%20+%20visualization-1.png)<!-- -->
